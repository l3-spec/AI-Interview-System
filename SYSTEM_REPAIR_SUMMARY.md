# AIé¢è¯•ç³»ç»Ÿä¿®å¤æ€»ç»“

## ğŸ”§ ä¿®å¤çš„é—®é¢˜

### 1. ç³»ç»Ÿç®¡ç†ç«¯ç™»å½•é—®é¢˜
**é—®é¢˜**: ç™»å½•æ—¶æç¤º"æ— æ•ˆçš„ç®¡ç†å‘˜ä»¤ç‰Œ"å’Œ"Request failed with status code 404"

**æ ¹æœ¬åŸå› **:
- APIåœ°å€é…ç½®é”™è¯¯ï¼šå‰ç«¯é…ç½®ä¸º`localhost:5175`ï¼Œå®é™…åç«¯è¿è¡Œåœ¨`localhost:3001`
- TokenéªŒè¯å­—æ®µä¸åŒ¹é…ï¼šä¸­é—´ä»¶æœŸæœ›`decoded.adminId`ï¼Œä½†å®é™…ç”Ÿæˆçš„æ˜¯`decoded.id`
- è·¯ç”±é…ç½®ä¸å®Œæ•´ï¼šç¼ºå°‘ç®¡ç†å‘˜ç™»å½•è·¯ç”±

**ä¿®å¤æ–¹æ¡ˆ**:
1. ä¿®æ­£APIé…ç½®ï¼š`system-admin/src/config/config.ts`
2. ä¿®å¤tokenéªŒè¯é€»è¾‘ï¼š`backend-api/src/middleware/adminAuth.ts`
3. å®Œå–„è·¯ç”±é…ç½®ï¼š`backend-api/src/routes/admin.ts`
4. ç»Ÿä¸€tokenç”Ÿæˆæ ¼å¼ï¼š`backend-api/src/controllers/adminController.ts`

### 2. ä¼ä¸šç®¡ç†ç«¯ç™½å±é—®é¢˜
**é—®é¢˜**: ä¼ä¸šç®¡ç†ç«¯æ‰“å¼€åæ˜¾ç¤ºç™½å±

**æ ¹æœ¬åŸå› **:
- APIåœ°å€é…ç½®é”™è¯¯ï¼šé…ç½®ä¸º`localhost:5000`ï¼Œå®é™…åç«¯è¿è¡Œåœ¨`localhost:3001`
- ç™»å½•APIè·¯å¾„é”™è¯¯ï¼šè°ƒç”¨äº†ç®¡ç†å‘˜ç™»å½•APIè€Œä¸æ˜¯ä¼ä¸šç™»å½•API

**ä¿®å¤æ–¹æ¡ˆ**:
1. ä¿®æ­£APIé…ç½®ï¼š`admin-dashboard/src/config/constants.ts`
2. ä¿®æ­£ç™»å½•APIè°ƒç”¨ï¼š`admin-dashboard/src/contexts/AuthContext.tsx`

### 3. æ¶æ„ä¸æ¸…æ™°é—®é¢˜
**é—®é¢˜**: å„ç«¯è´¦å·ä½“ç³»æ··ä¹±ï¼Œæ¥å£å¯¹æ¥ä¸æ˜ç¡®

**è§£å†³æ–¹æ¡ˆ**:
- æ˜ç¡®ä¸‰ç«¯åˆ†ç¦»æ¶æ„
- ç»Ÿä¸€è®¤è¯ç­–ç•¥
- å®Œå–„APIè·¯ç”±é…ç½®

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„æ¸…æ™°åŒ–

### ä¸‰ç«¯åˆ†ç¦»æ¶æ„
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Android App   â”‚    â”‚ Admin Dashboard â”‚    â”‚  System Admin   â”‚
â”‚   (æ±‚èŒè€…ç«¯)     â”‚    â”‚   (ä¼ä¸šç®¡ç†ç«¯)   â”‚    â”‚  (ç³»ç»Ÿç®¡ç†ç«¯)    â”‚
â”‚   Port: N/A     â”‚    â”‚   Port: 5174    â”‚    â”‚   Port: 5175    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚                       â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   Backend API   â”‚
                    â”‚   Port: 3001    â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ç”¨æˆ·ç±»å‹ä¸APIæ˜ å°„
| ç”¨æˆ·ç±»å‹ | ç™»å½•API | å‰ç«¯ç«¯å£ | ä¸»è¦åŠŸèƒ½ |
|---------|---------|---------|---------|
| æ±‚èŒè€… (User) | `/api/auth/login/user` | N/A (App) | AIé¢è¯•ã€ç®€å†ç®¡ç† |
| ä¼ä¸š (Company) | `/api/auth/login/company` | 5174 | èŒä½ç®¡ç†ã€å€™é€‰äººç®¡ç† |
| ç®¡ç†å‘˜ (Admin) | `/api/admin/login` | 5175 | ç³»ç»Ÿç®¡ç†ã€ç”¨æˆ·ç®¡ç† |

### è®¤è¯ç­–ç•¥ç»Ÿä¸€
- JWT Tokenè®¤è¯
- 24å°æ—¶è¿‡æœŸæ—¶é—´
- Bearerè®¤è¯å¤´æ ¼å¼
- ç»Ÿä¸€é”™è¯¯å¤„ç†

## ğŸ¯ æµ‹è¯•è´¦å·

### ç³»ç»Ÿç®¡ç†å‘˜
- é‚®ç®±: `superadmin@aiinterview.com`
- å¯†ç : `superadmin123`
- è®¿é—®: http://localhost:5175

### ä¼ä¸šç”¨æˆ·
- é‚®ç®±: `company@aiinterview.com`
- å¯†ç : `company123456`
- è®¿é—®: http://localhost:5174

### æ±‚èŒè€…
- é‚®ç®±: `user@aiinterview.com`
- å¯†ç : `user123456`
- è®¿é—®: Android App

## ğŸš€ å¿«é€Ÿå¯åŠ¨

### æ–¹å¼ä¸€ï¼šä¸€é”®å¯åŠ¨æ‰€æœ‰æœåŠ¡
```bash
./start-all-services.sh
```

### æ–¹å¼äºŒï¼šåˆ†åˆ«å¯åŠ¨
```bash
# å¯åŠ¨åç«¯API
cd backend-api && npm run dev

# å¯åŠ¨ç³»ç»Ÿç®¡ç†ç«¯
cd system-admin && npm run dev

# å¯åŠ¨ä¼ä¸šç®¡ç†ç«¯
cd admin-dashboard && npm run dev
```

### æ–¹å¼ä¸‰ï¼šæµ‹è¯•æœåŠ¡çŠ¶æ€
```bash
./test-services.sh
```

## ğŸ“‹ æœåŠ¡åœ°å€

- **åç«¯API**: http://localhost:3001
- **APIæ–‡æ¡£**: http://localhost:3001/api/docs
- **ç³»ç»Ÿç®¡ç†ç«¯**: http://localhost:5175
- **ä¼ä¸šç®¡ç†ç«¯**: http://localhost:5174

## ğŸ”’ å®‰å…¨æœ€ä½³å®è·µ

1. **Tokenç®¡ç†**
   - ç»Ÿä¸€çš„Tokenå­˜å‚¨key
   - è‡ªåŠ¨è¿‡æœŸå¤„ç†
   - 401é”™è¯¯è‡ªåŠ¨é‡å®šå‘

2. **CORSé…ç½®**
   - æ˜ç¡®çš„åŸŸåç™½åå•
   - æ”¯æŒå‡­è¯ä¼ é€’
   - å®‰å…¨çš„å¤´éƒ¨é…ç½®

3. **APIè®¾è®¡**
   - ç»Ÿä¸€çš„å“åº”æ ¼å¼
   - å®Œå–„çš„é”™è¯¯å¤„ç†
   - è¯¦ç»†çš„APIæ–‡æ¡£

## âœ… ä¿®å¤éªŒè¯

æ‰€æœ‰ä¿®å¤å·²é€šè¿‡ä»¥ä¸‹æµ‹è¯•ï¼š
- [x] ç³»ç»Ÿç®¡ç†å‘˜ç™»å½•æ­£å¸¸
- [x] ä¼ä¸šç”¨æˆ·ç™»å½•æ­£å¸¸
- [x] APIæ¥å£å“åº”æ­£å¸¸
- [x] å‰ç«¯é¡µé¢åŠ è½½æ­£å¸¸
- [x] TokenéªŒè¯æ­£å¸¸
- [x] è·¯ç”±è·³è½¬æ­£å¸¸

## ğŸ“ æ³¨æ„äº‹é¡¹

1. ç¡®ä¿æ‰€æœ‰æœåŠ¡éƒ½åœ¨è¿è¡Œ
2. æ£€æŸ¥ç«¯å£æ˜¯å¦è¢«å ç”¨
3. æ¸…é™¤æµè§ˆå™¨ç¼“å­˜å’ŒlocalStorage
4. ä½¿ç”¨æ­£ç¡®çš„æµ‹è¯•è´¦å·

## ğŸ‰ ç³»ç»Ÿå·²æ¢å¤æ­£å¸¸è¿è¡Œï¼ 