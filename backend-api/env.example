# 数据库配置 - MySQL
DATABASE_URL="mysql://username:password@localhost:3306/ai_interview_db"

# 阿里云RDS MySQL示例 (生产环境)
# DATABASE_URL="mysql://username:password@rm-xxxxxxxxxx.mysql.rds.aliyuncs.com:3306/ai_interview_db"

# JWT密钥
JWT_SECRET="your-super-secret-jwt-key-here"
JWT_EXPIRE="7d"

# 服务器配置
PORT=3001
NODE_ENV="development"

# Redis配置
REDIS_URL="redis://:your-redis-password@localhost:6379"

# 远程Redis示例
# REDIS_URL="rediss://:your-redis-password@rs.s.xlwl-ai.com:6379"

# 邮件配置
SMTP_HOST="smtp.gmail.com"
SMTP_PORT=587
SMTP_USER="your-email@gmail.com"
SMTP_PASS="your-app-password"

# 阿里云邮件推送服务示例
# SMTP_HOST="smtpdm.aliyun.com"
# SMTP_PORT=25
# SMTP_USER="your-account@your-domain.com"
# SMTP_PASS="your-smtp-password"

# 登录验证码短信配置
SMS_PROVIDER=""  # 可选：留空自动检测，也可设为 "mock" | "aliyun" | "tencent"
SMS_DEFAULT_COUNTRY_CODE="+86"
LOGIN_CODE_FIXED_CODE=""  # 调试阶段可指定固定验证码
LOGIN_CODE_SKIP_SMS=false   # 设为true跳过短信发送，仅用于本地联调

# 阿里云短信服务配置
ALIYUN_SMS_ACCESS_KEY_ID=""
ALIYUN_SMS_ACCESS_KEY_SECRET=""
ALIYUN_SMS_SIGN_NAME=""
ALIYUN_SMS_TEMPLATE_CODE=""
ALIYUN_SMS_REGION="cn-hangzhou"
ALIYUN_SMS_ENDPOINT="dysmsapi.aliyuncs.com"
ALIYUN_SMS_CODE_PARAM="code"
ALIYUN_SMS_TIMEOUT_MS=8000
ALIYUN_SMS_RETRY_TIMEOUT_MS=15000

# 腾讯云短信服务配置
TENCENT_SMS_SECRET_ID=""
TENCENT_SMS_SECRET_KEY=""
TENCENT_SMS_SIGN_NAME=""
TENCENT_SMS_TEMPLATE_ID=""
TENCENT_SMS_SDK_APP_ID=""
TENCENT_SMS_REGION="ap-guangzhou"

# 文件上传配置
UPLOAD_DIR="uploads"
MAX_FILE_SIZE=100MB

# 阿里云OSS配置 (视频文件存储)
OSS_REGION="oss-cn-hangzhou"
OSS_ACCESS_KEY_ID="your-access-key-id"
OSS_ACCESS_KEY_SECRET="your-access-key-secret"
OSS_BUCKET="ai-interview-videos"
OSS_ROLE_ARN="acs:ram::your-account-id:role/your-oss-role"
OSS_CDN_DOMAIN="your-cdn-domain.com"

# 管理员默认账号
ADMIN_EMAIL="admin@aiinterview.com"
ADMIN_PASSWORD="admin123456"

# API文档
API_DOCS_URL="/api/docs"

# 阿里云配置 (生产环境)
ALIYUN_REGION="cn-hangzhou"
ALIYUN_ACCESS_KEY_ID="your-access-key-id"
ALIYUN_ACCESS_KEY_SECRET="your-access-key-secret"

# 生产环境OSS配置示例
# OSS_REGION="oss-cn-beijing"
# OSS_ACCESS_KEY_ID="LTAI5t8nxxxxxxxxxxxxxxxxx"
# OSS_ACCESS_KEY_SECRET="kGpKtxxxxxxxxxxxxxxxxxxxxxxxxxxx"
# OSS_BUCKET="ai-interview-prod"
# OSS_CDN_DOMAIN="cdn.yourdomain.com"

# =================================
# AI面试系统相关配置
# =================================

# Deepseek大模型配置
DEEPSEEK_API_KEY="<your-deepseek-api-key>"
DEEPSEEK_API_URL="https://api.deepseek.com/v1/chat/completions"
DEEPSEEK_MODEL="deepseek-chat"
DEEPSEEK_MAX_TOKENS=2000
DEEPSEEK_TEMPERATURE=0.7

# 阿里云实时语音交互 (ASR + VAD)
ALIYUN_NLS_APP_KEY="your-aliyun-nls-app-key"
ALIYUN_NLS_ACCESS_KEY_ID="your-access-key-id"
ALIYUN_NLS_ACCESS_KEY_SECRET="your-access-key-secret"
ALIYUN_NLS_REGION="cn-shanghai"
ALIYUN_NLS_ENDPOINT="https://nls-gateway.cn-shanghai.aliyuncs.com/stream/v1/asr"
ALIYUN_NLS_SAMPLE_RATE=16000
ALIYUN_NLS_FORMAT="pcm"
ALIYUN_NLS_ENABLE_PUNCTUATION=true
ALIYUN_NLS_ENABLE_ITN=true
ALIYUN_NLS_ENABLE_VAD=false
ALIYUN_NLS_TIMEOUT_MS=25000

# 火山引擎实时语音配置（支持自动生成 Token）
# 流式语音识别大模型配置
VOLC_APP_ID="8658504805"
VOLC_ACCESS_KEY="Hqpm037NCyPOZoUBVSM13L9GsgmBLBN0"
VOLC_SECRET_KEY="cokXGSQu8DaPQsYICYk4aHrNMVHH-LpY"

# 流式语音识别 Cluster ID
VOLC_CLUSTER="volcengine_streaming_common"

# 火山实时语音默认接入点/路由
VOLC_ASR_ADDRESS="wss://openspeech.bytedance.com"
VOLC_ASR_URI="/api/v2/asr"

# 火山ASR资源ID（流式语音识别大模型实例）
VOLC_ASR_RESOURCE_ID="Speech_Recognition_Seed_streaming2000000444970982562"

# 额外的ASR请求参数，JSON 字符串（可选，会自动根据VOLC_ASR_RESOURCE_ID生成）
# VOLC_ASR_REQ_PARAMS={"res_id":"Speech_Recognition_Seed_streaming2000000444970982562"}

# 火山TTS配置（语音合成）
VOLC_TTS_RESOURCE_ID="Speech_Synthesis2000000444875413602"
VOLC_TTS_CLUSTER="volcano_tts"
VOLC_TTS_URI="/api/v3/tts/bidirection"

# VAD（语音活动检测）配置
VOLC_VAD_START_SILENCE_MS=250
VOLC_VAD_END_SILENCE_MS=600

# 可选：指定 APIKey 名称或项目
VOLC_API_KEY_NAME="ai-interview"
VOLC_PROJECT_NAME="default"

# 可选：语言配置（默认中文）
VOLC_LANGUAGE="zh-CN"

# 若确实拿到了火山控制台下发的 JWT/STStoken，可设置 VOLC_TOKEN 覆盖自动生成
# 注意：普通 AccessKey/AppKey 不能充当 token
# VOLC_TOKEN="Bearer;your-manual-token"
# 需要在任何情况下都使用手工 token，可设置
# VOLC_TOKEN_FORCE=true
# TTS语音服务配置 (客户端合成请设置为 client)
TTS_PROVIDER="client"  # "client" | "index-tts2" | "aliyun" | "azure" | "baidu" | "tencent"

# IndexTTS2 配置 (数字人口型同步推荐)
INDEX_TTS2_API_URL="https://api.indextts2.com"
INDEX_TTS2_API_KEY=""
INDEX_TTS2_VOICE="zh-CN-female-pro"
INDEX_TTS2_FORMAT="mp3"
INDEX_TTS2_SAMPLE_RATE=24000
INDEX_TTS2_SPEED=1
INDEX_TTS2_EMOTION=""
INDEX_TTS2_TIMEOUT=60000
INDEX_TTS2_LEXICONS=""

# 阿里云TTS配置 (推荐)
ALIYUN_TTS_ACCESS_KEY_ID="your-access-key-id"
ALIYUN_TTS_ACCESS_KEY_SECRET="your-access-key-secret"
ALIYUN_TTS_REGION="cn-shanghai"
ALIYUN_TTS_VOICE="siqi"  # 可选：siqi, xiaoyun, xiaogang 等
ALIYUN_TTS_FORMAT="mp3"
ALIYUN_TTS_SAMPLE_RATE=16000

# Azure TTS配置 (备用方案)
AZURE_TTS_KEY="your-azure-tts-key"
AZURE_TTS_REGION="eastus"
AZURE_TTS_VOICE="zh-CN-XiaoxiaoNeural"

# 百度TTS配置 (备用方案)
BAIDU_TTS_APP_ID="your-app-id"
BAIDU_TTS_API_KEY="your-api-key"
BAIDU_TTS_SECRET_KEY="your-secret-key"

# 腾讯TTS配置 (备用方案)
TENCENT_TTS_SECRET_ID="your-secret-id"
TENCENT_TTS_SECRET_KEY="your-secret-key"
TENCENT_TTS_REGION="ap-beijing"

# 面试配置
INTERVIEW_MAX_QUESTIONS=5  # 每次面试最大问题数
INTERVIEW_QUESTION_TIMEOUT=120  # 每题回答超时时间(秒)
INTERVIEW_SESSION_EXPIRE=3600  # 面试会话过期时间(秒)

# 音频文件配置
AUDIO_UPLOAD_DIR="uploads/audio"
AUDIO_MAX_SIZE=10MB
AUDIO_ALLOWED_FORMATS="mp3,wav,m4a"

# 视频文件配置 (面试回答视频)
VIDEO_UPLOAD_DIR="uploads/videos"
VIDEO_MAX_SIZE=500MB
VIDEO_ALLOWED_FORMATS="mp4,webm,mov"

# 数字人口型同步 (Wav2Lip) 配置
WAV2LIP_SERVICE_URL="http://localhost:8088"
WAV2LIP_API_KEY=""
WAV2LIP_TEMPLATE_VIDEO="./static/wav2lip/avatar.mp4"
WAV2LIP_TEMPLATE_IMAGE=""
WAV2LIP_TEMPLATE_ID=""
WAV2LIP_TIMEOUT=120000
WAV2LIP_FALLBACK_VIDEO_URL=""
WAV2LIP_PERSIST_REMOTE_ONLY=false

# 媒体生成调度
AI_MEDIA_GENERATION_MODE="queue"  # "queue" | "inline"
AI_AUDIT_LOG_DIR="logs"

# AI分析配置
AI_ANALYSIS_TIMEOUT=60  # AI分析超时时间(秒)
AI_ANALYSIS_RETRY_COUNT=3  # 重试次数

# AIRI Web 数字人配置
AIRI_WEB_URL="http://localhost:3000/avatar"
